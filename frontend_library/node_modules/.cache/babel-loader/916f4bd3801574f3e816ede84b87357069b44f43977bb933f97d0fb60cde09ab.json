{"ast":null,"code":"import axios from \"axios\";\nimport NavBar from \"../../components/NavBar.vue\";\nexport default {\n  name: \"StatusBooks\",\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      books: [],\n      searchBar: ''\n    };\n  },\n  methods: {\n    async bookslist() {\n      try {\n        const headers = {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n        };\n        const response = await axios.get(\"http://127.0.0.1:5000/api/fetch/librarian/books\", {\n          headers\n        });\n        this.books = response.data;\n        console.log(this.books);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  computed: {\n    searchBooks() {\n      return this.books.filter(book => book.book_name.toLowerCase().includes(this.searchBar.toLowerCase()) || book.authors.toLowerCase().includes(this.searchBar.toLowerCase()) || book.section_name.toLowerCase().includes(this.searchBar.toLowerCase()) || book.isbn.toLowerCase().includes(this.searchBar.toLowerCase()));\n    }\n  },\n  created() {\n    this.bookslist();\n  }\n};","map":{"version":3,"names":["axios","NavBar","name","components","data","books","searchBar","methods","bookslist","headers","Authorization","localStorage","getItem","response","get","console","log","error","computed","searchBooks","filter","book","book_name","toLowerCase","includes","authors","section_name","isbn","created"],"sources":["C:\\Users\\vijay\\OneDrive\\Desktop\\National-Library-LMS\\Library_Code\\frontend_library\\src\\views\\Librarian\\StatusBooks.vue"],"sourcesContent":["<template>\n  <div>\n  <NavBar />\n\n  <h2 style=\"text-align: center;margin-top:2.5%\">Available Books</h2>\n\n  <div class=\"search-section\">\n    <input style=\"width:100%;padding: 0.5%;border-width:0.5cap;border-radius: 10cqb; color:black;font-weight: 700;font-size:large;text-align: center;border-color: black;\" type=\"text\" v-model=\"searchBar\" placeholder=\"Search by book or author\">\n  </div>\n\n\n  <div v-if=\"searchBooks.length > 0\">\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>Book Name</th>\n          <th>Author</th>\n          <th>Section</th>\n          <th>ISBN</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"book in searchBooks\" :key=\"book.book_id\">\n          <td>{{ book.book_name }}</td>\n          <td>{{ book.authors }}</td>\n          <td>{{ book.section_name }}</td>\n          <td>{{ book.isbn }}</td>\n\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div v-else>\n    <p>Not found</p>\n  </div>\n\n</div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport NavBar from \"../../components/NavBar.vue\";\nexport default {\n  name: \"StatusBooks\",\n  components: {\n    NavBar,\n  },\n  data() {\n    return {\n      books: [],\n      searchBar: '', \n    };\n  },\n  methods: {\n    async bookslist() {\n  try {\n    const headers = {\n      Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n    };\n\n    const response = await axios.get(\n      \"http://127.0.0.1:5000/api/fetch/librarian/books\",\n      { headers }\n    );\n\n    this.books = response.data;\n    console.log(this.books);\n  } catch (error) {\n    console.log(error);\n  }\n},\n\n  },\n  computed: {\n    searchBooks() {\n      return this.books.filter(book =>\n        book.book_name.toLowerCase().includes(this.searchBar.toLowerCase()) ||\n        book.authors.toLowerCase().includes(this.searchBar.toLowerCase()) ||\n        book.section_name.toLowerCase().includes(this.searchBar.toLowerCase()) ||\n        book.isbn.toLowerCase().includes(this.searchBar.toLowerCase())\n\n      );\n    }\n  },\n  created() {\n    this.bookslist();\n  },\n};\n</script>\n<style scoped>\n.btn {\n\n  justify-content: space-around;\n  align-items: center;\n  padding: 5%;\n  margin: 2%;\n}\n\n\n*,\n*:before,\n*:after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n\ntable {\n  width: 90%;\n  background: #333;\n  border-radius: 0.25em;\n  border-collapse: collapse;\n  margin-left:5%;\n  margin-top: 2%;\n}\n\nth {\n  border-bottom: 1px solid #364043;\n  color: #E2B842;\n  font-size:large;\n  font-weight: 600;\n  padding: 0.3em 1em;\n  text-align: left;\n}\n\ntd {\n  color: #fff;\n  font-weight: 400;\n  padding: 0.65em;\n  text-align: left;\n}\n\n.disabled td {\n  color: #4F5F64;\n}\n\ntbody tr {\n  transition: background 0.25s ease;\n}\n\ntbody tr:hover {\n  background: #014055;\n}\n</style>\n"],"mappings":"AAyCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,6BAA6B;AAChD,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,OAAM,GAAI;UACdC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAE;QAC/D,CAAC;QAED,MAAMC,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAC9B,iDAAiD,EACjD;UAAEL;QAAQ,CACZ,CAAC;QAED,IAAI,CAACJ,KAAI,GAAIQ,QAAQ,CAACT,IAAI;QAC1BW,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,KAAK,CAAC;MACzB,EAAE,OAAOY,KAAK,EAAE;QACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACpB;IACF;EAEE,CAAC;EACDC,QAAQ,EAAE;IACRC,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACd,KAAK,CAACe,MAAM,CAACC,IAAG,IAC1BA,IAAI,CAACC,SAAS,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAClB,SAAS,CAACiB,WAAW,CAAC,CAAC,KAClEF,IAAI,CAACI,OAAO,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAClB,SAAS,CAACiB,WAAW,CAAC,CAAC,KAChEF,IAAI,CAACK,YAAY,CAACH,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAClB,SAAS,CAACiB,WAAW,CAAC,CAAC,KACrEF,IAAI,CAACM,IAAI,CAACJ,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAClB,SAAS,CAACiB,WAAW,CAAC,CAAC,CAE/D,CAAC;IACH;EACF,CAAC;EACDK,OAAOA,CAAA,EAAG;IACR,IAAI,CAACpB,SAAS,CAAC,CAAC;EAClB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}