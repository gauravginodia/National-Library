{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\nexport default {\n  name: \"UserAuthentication\",\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      errorMessage: \"\"\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const response = await axios.post(\"http://127.0.0.1:5000/api/login\", {\n          email: this.email,\n          password: this.password\n        });\n        if (response.status === 200 && response.data.access_token) {\n          localStorage.setItem('accessToken', response.data.access_token);\n          localStorage.setItem('userType', \"user\");\n          localStorage.setItem('user', JSON.stringify(response.data.userName));\n          this.$router.push('/user/dashboard');\n          console.log(\"Login successful. Redirecting to dashboard...\");\n        } else {\n          console.error(\"Error: Unexpected response from server\");\n          this.errorMessage = \"Unexpected response from server\";\n        }\n      } catch (error) {\n        console.error(\"Error logging in:\", error);\n        this.errorMessage = error.response ? error.response.data.error : \"Unknown error occurred\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","NavBar","name","components","data","email","password","errorMessage","methods","login","response","post","status","access_token","localStorage","setItem","JSON","stringify","userName","$router","push","console","log","error"],"sources":["C:\\Users\\vijay\\OneDrive\\Desktop\\National-Library-LMS\\Library_Code\\frontend_library\\src\\views\\UserAuthentication.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<NavBar />\n\t\t<div class=\"container\">\n\t\t\t<div class=\"screen\">\n\t\t\t\t<div class=\"screen__content\">\n\t\t\t\t\t<div class=\"error\" v-if=\"errorMessage\">{{ errorMessage }}</div>\n\t\t\t\t\t<form class=\"login\" @submit.prevent=\"login\">\n\t\t\t\t\t\t<div class=\"login__field\">\n\t\t\t\t\t\t\t<!-- User icon -->\n\t\t\t\t\t\t\t<i class=\"bi bi-person-circle login__icon\"></i> <!-- Bootstrap icon for user -->\n\t\t\t\t\t\t\t<input type=\"text\" class=\"login__input\" placeholder=\"Email\" v-model=\"email\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"login__field\">\n\t\t\t\t\t\t\t<!-- Password icon -->\n\t\t\t\t\t\t\t<i class=\"bi bi-lock-fill login__icon\"></i> <!-- Bootstrap icon for lock -->\n\t\t\t\t\t\t\t<input type=\"password\" class=\"login__input\" placeholder=\"Password\" v-model=\"password\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"button login__submit\">\n\t\t\t\t\t\t\t<span class=\"button__text\">Log In Now</span>\n\t\t\t\t\t\t\t<i class=\"bi bi-chevron-right button__icon\"></i> <!-- Bootstrap icon for chevron right -->\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"social-login\" >\n\t\t\t\t\t\t<h5 style=\"margin-top: 1% ;padding-top: 1%;\">New User ? </h5>\n\t\t\t\t\t\t<div class=\"social-icons\">\n\t\t\t\t\t\t\t<router-link to=\"/RegisterUser\" style=\"color:white\">Signup</router-link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"screen__background\">\n\t\t\t\t\t<span class=\"screen__background__shape screen__background__shape4\"></span>\n\t\t\t\t\t<span class=\"screen__background__shape screen__background__shape3\"></span>\n\t\t\t\t\t<span class=\"screen__background__shape screen__background__shape2\"></span>\n\t\t\t\t\t<span class=\"screen__background__shape screen__background__shape1\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t</div>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\n\nexport default {\n\tname: \"UserAuthentication\",\n\tcomponents: {\n\t\tNavBar,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\terrorMessage: \"\",\n\t\t};\n\t},\n\tmethods: {\n\t\tasync login() {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.post(\"http://127.0.0.1:5000/api/login\", {\n\t\t\t\t\temail: this.email,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t});\n\n\t\t\t\tif (response.status === 200 && response.data.access_token) {\n\t\t\t\t\tlocalStorage.setItem('accessToken', response.data.access_token);\n\t\t\t\t\tlocalStorage.setItem('userType', \"user\")\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(response.data.userName));\n\t\t\t\t\tthis.$router.push('/user/dashboard');\n\t\t\t\t\tconsole.log(\"Login successful. Redirecting to dashboard...\");\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"Error: Unexpected response from server\");\n\t\t\t\t\tthis.errorMessage = \"Unexpected response from server\";\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error logging in:\", error);\n\t\t\t\tthis.errorMessage = error.response ? error.response.data.error : \"Unknown error occurred\";\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css?family=Raleway:400,700');\n\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n\tfont-family: Raleway, sans-serif;\n}\n\nbody {\n\tbackground: linear-gradient(90deg, #C7C5F4, #776BCC);\n}\n\n.container {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmin-height: 100vh;\n\t-ms-flex-align: center;\n\tmargin-left: 2%;\n}\n\n.screen {\n\tbackground: #333;\n\tposition:relative;\n\tjustify-content: center;\n\theight: 570px;\n\twidth: 360px;\n\tbox-shadow: 0px 0px 24px #5C5696;\n}\n\n.screen__content {\n\tz-index: 1;\n\tposition: relative;\n\theight: 100%;\n}\n\n.screen__background {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 0;\n\t-webkit-clip-path: inset(0 0 0 0);\n\tclip-path: inset(0 0 0 0);\n}\n\n.screen__background__shape {\n\ttransform: rotate(45deg);\n\tposition: absolute;\n}\n\n.screen__background__shape1 {\n\theight: 520px;\n\twidth: 520px;\n\tbackground: #FFF;\n\ttop: -50px;\n\tright: 120px;\n\tborder-radius: 0 72px 0 0;\n}\n\n.screen__background__shape2 {\n\theight: 220px;\n\twidth: 220px;\n\tbackground: #333;\n\ttop: -172px;\n\tright: 0;\n\tborder-radius: 32px;\n}\n\n.screen__background__shape3 {\n\theight: 540px;\n\twidth: 190px;\n\tbackground: #333;\n\ttop: -24px;\n\tright: 0;\n\tborder-radius: 32px;\n}\n\n.screen__background__shape4 {\n\theight: 400px;\n\twidth: 200px;\n\tbackground: #333;\n\ttop: 420px;\n\tright: 50px;\n\tborder-radius: 60px;\n}\n\n.login {\n\twidth: 320px;\n\tpadding: 30px;\n\tpadding-top: 156px;\n}\n\n.login__field {\n\tpadding: 20px 0px;\n\tposition: relative;\n}\n\n.login__icon {\n\tposition: absolute;\n\ttop: 30px;\n\tcolor: black;\n}\n\n.login__input {\n\tborder: none;\n\tborder-bottom: 2px solid #D1D1D4;\n\tbackground: none;\n\tpadding: 10px;\n\tpadding-left: 24px;\n\tfont-weight: 700;\n\twidth: 75%;\n\ttransition: .2s;\n}\n\n.login__input:active,\n.login__input:focus,\n.login__input:hover {\n\toutline: none;\n\tborder-bottom-color: black;\n}\n\n.login__submit {\n\tbackground: #fff;\n\tfont-size: 14px;\n\tmargin-top: 30px;\n\tpadding: 16px 20px;\n\tborder-radius: 26px;\n\tborder: 1px solid #D4D3E8;\n\ttext-transform: uppercase;\n\tfont-weight: 700;\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\tcolor: rgba(26, 24, 24, 0.615);\n\tbox-shadow: 0px 2px 2px rgba(128, 128, 128, 0.253);\n\tcursor: pointer;\n\ttransition: .2s;\n}\n\n.login__submit:active,\n.login__submit:focus,\n.login__submit:hover {\n\tborder-color: black;\n\tborder-width: 0.5cap;\n\toutline: none;\n}\n\n.button__icon {\n\tfont-size: 24px;\n\tmargin-left: auto;\n\tcolor: #333;\n}\n\n.social-login {\n\tposition: absolute;\n\theight: 140px;\n\twidth: 160px;\n\ttext-align: center;\n\tbottom: 0px;\n\tright: 0px;\n\tcolor: #fff;\n\ttext-size-adjust: 17;\n}\n\n.social-icons {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n}\n\n\n\n.error {\n\tcolor: red;\n\ttext-align: center;\n\tmargin-top: 10px;\n}\n</style>\n"],"mappings":";AA8CA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,yBAAyB;AAE5C,eAAe;EACdC,IAAI,EAAE,oBAAoB;EAC1BC,UAAU,EAAE;IACXF;EACD,CAAC;EACDG,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE;IACf,CAAC;EACF,CAAC;EACDC,OAAO,EAAE;IACR,MAAMC,KAAKA,CAAA,EAAG;MACb,IAAI;QACH,MAAMC,QAAO,GAAI,MAAMV,KAAK,CAACW,IAAI,CAAC,iCAAiC,EAAE;UACpEN,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,QAAQ,EAAE,IAAI,CAACA;QAChB,CAAC,CAAC;QAEF,IAAII,QAAQ,CAACE,MAAK,KAAM,GAAE,IAAKF,QAAQ,CAACN,IAAI,CAACS,YAAY,EAAE;UAC1DC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEL,QAAQ,CAACN,IAAI,CAACS,YAAY,CAAC;UAC/DC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE,MAAM;UACvCD,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACN,IAAI,CAACc,QAAQ,CAAC,CAAC;UACpE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC;UACpCC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;QAC7D,OAAO;UACND,OAAO,CAACE,KAAK,CAAC,wCAAwC,CAAC;UACvD,IAAI,CAAChB,YAAW,GAAI,iCAAiC;QACtD;MACD,EAAE,OAAOgB,KAAK,EAAE;QACfF,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,IAAI,CAAChB,YAAW,GAAIgB,KAAK,CAACb,QAAO,GAAIa,KAAK,CAACb,QAAQ,CAACN,IAAI,CAACmB,KAAI,GAAI,wBAAwB;MAC1F;IACD;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}